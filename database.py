from flask import Flask, redirect, url_for,session,request,render_template,session,flash
from pymongo import MongoClient
app=Flask(__name__)

cluster=MongoClient('mongodb+srv://covid19:districts@cluster0.ilkuy.mongodb.net/covid19?retryWrites=true&w=majority')

db=cluster['Covidlist']

collection=db['Districts']

@app.route('/',methods=["GET","POST"])
def home():
    if request.method=='POST':
        a1=request.form['area']
        p=collection.find({'area':a1})
        if p:
            return render_template('home.html',p1=p,l1=l1)
    return render_template('home.html',l1=l1)
@app.route('/<name>',methods=['GET','POST'])
def new(name):
    if name in d_codes:
        p=[]
        a=collection.find({'code':name})
        if request.method=='POST':
            a1=request.form['area']
            p=collection.find({'area':a1})

            if p:
                return render_template('testcenters.html',a=a,di=d_codes[name],d=d_codes,n=name,p1=p,l1=l1)
            else:
                flash('Please select Valid Area')
                return render_template('testcenters.html',a=a,di=d_codes[name],d=d_codes,n=name,l1=l1)
        return render_template('testcenters.html',a=a,di=d_codes[name],d=d_codes,n=name,l1=l1)
    else:
        return 'Hello User'
d_codes={'adl':'ADILABAD','bkm':'BHADRADRI KOTHAGUDEM','jl':'JAGTIAL','jn':'JANGAON','jbp':'JAYASHANKAR BHUPALAPALLY','mlg':'MULUGU','jgl':'JOGULAMBA GADWAL','kmr':'KAMAREDDY','knr':'KARIMNAGAR','khm':'KHAMMAM','kba':'KOMARAM BHEEM ASIFABAD','mhbd':'MAHABUBABAD','mhbr':'MAHABUBNAGAR','nrt':'NARAYANPET','mrl':'MANCHERIAL','mdk':'MEDAK','nkl':'NAGARKURNOOL','nlg':'NALGONDA','nml':'NIRMAL','nzb':'NIZAMABAD','pdpl':'PEDDAPALLI','srcl':'RAJANNA SIRCILLA','rgr':'RANGAREDDY','sdp':'SIDDIPET','wp':'WANAPARTHY','wlr':'WARANGAL RURAL','wlu':'WARANGAL URBAN','ybr':'YADADRI BHONGIR','ghyd':'HYDERABAD','phyd':'HYDERABAD'}
l1=['KhurishidNagar', 'Shantinagar', 'Ankoli', 'Bazarhathnoor', 'Bela', 'BheempurT', 'Sonala', 'Gadiguda', 'Gudihathnoor', 'Ichoda', 'Narsapur', 'Indervelly', 'Jainath', 'Narnoor', 'Neradgonda', 'Talamadugu', 'Danthanpally', 'Hasnapur', 'Shampur', 'Utnoor', 'Boath', 'CollegeRIMS,Hospital', 'Allapalli', 'Erragunta', 'Aswapuram', 'Aswaraopeta', 'Gummadavalli', 'Morampallibanjara', 'Chandrugonda', 'Satyanarayanapuram', 'Charla', 'Penagadapa', 'Dammapeta', 'Patwarigudem', 'Dummugudem', 'Parnasala', 'Gundala', 'Julurupadu', 'Karakagudem', 'OldKothagudem', 'Ramavaram', 'Regalla', 'Manuguru', 'Mangapeta', 'Gudipadu', 'Jaganadhapuram', 'SekharamBanjara', 'Ulavanoor', 'Janampeta', 'Pinapaka', 'SujathaNagar', 'Sulahanagar', 'Komararam', 'Rompedu', 'Yellandu', 'Palavoncha', 'Burgampadu', 'Ashwaraopeta', 'Bhadrachalam', 'Kothagudem', 'Dharmapuri', 'Gollapalli', 'Ibrahimpatnam', 'Kalleda', 'Khillagadda', 'Ambaripet', 'Kathalapur', 'Ailapur', 'Allamayyagutta', 'Mallapur', 'Mallial', 'Medipalli', 'Jaggasagar', 'Pegadapalli', 'Bornapally(Raikal)', 'Sarangapur', 'Ambaripet(N)', 'Velgatur', 'Korutla', 'Metpally', 'Jagityal', 'Bachannapet', 'Devaruppula', 'Ippaguda', 'Thatikonda', 'Ghanpur(Station)', 'Malkapur', 'Gundala', 'Dharmakancha', 'Obulakeshavpur', 'Narmetta', 'Palakurthy', 'Komalla', 'Raghunathpally', 'Kunur', 'Zaffergadh', 'Janagaon', 'Bhupalapally', 'Chelpur', 'Kataram', 'Bhupalpally', 'Mogullapally', 'Maha-Mutharam', 'Regonda', 'Tadicherla', 'Chityala', 'Bhupalapally', 'Eturnagaram', 'Royyur', 'Ghanpur(Mulug)', 'Govindaraopet', 'Pasra', 'Kannaigudem', 'Mahadevpur', 'Chunchupally', 'Mangapet', 'Mulugu', 'Rainigudem', 'Kodishala', 'Tadvai', 'Katapuram', 'Venkatapur', 'Venkatapuram', 'Peruru', 'Wazeedu', 'Waddepally', 'Kythur', 'Dharur', 'Upperu', 'Ghattu', 'Ieeja', 'Itikyal', 'Manopad', 'Alampur', 'Gadwal', 'Banswada', 'Bhiknoor', 'Bibipet', 'Pulkal', 'Birkoor', 'Jukkal', 'Shabdipur', 'Devanpally', 'Lingampet', 'Nagireddypet', 'Nizamsagar', 'Peddakodapgal', 'Rajampet', 'Annaram', 'Ramareddy', 'SadashivNagar', 'Errapahad', 'Mathmal', 'Yellareddy', 'Bichkunda', 'Domakonda', 'Gandhari', 'Madnur', 'Pitlam', 'Kamareddy', 'Chigurumamidi', 'Choppadandi', 'Ellandakunta', 'Gangadhara', 'Chelpur', 'KCCamp', 'Huzurabad', 'Vavilala', 'ButtiRajaRamColony', 'HousingBoardColony', 'Kattarampur', 'Mohtajkhana', 'VidyaNagar', 'Chamanpally', 'Asifnagar', 'Kothapalli', 'Manakondur', 'Veldhi', 'Gundi', 'Ramadugu', 'Shankarapatnam(Keshavpatnam)', 'Thimmapur', 'Saidapur', 'Challur', 'LMDColony', 'Jammikunta', 'Karimnagar', 'Karimnagar', 'Banakal', 'Chintakani', 'Enkoor', 'Chennure', 'Kalluru', 'Kamepalli', 'BalajiNagar', 'Khammam', 'Mamillagudem', 'PakabandaBazar(MusthafaNagar)', 'SrinivasaNagar', 'Khammam', 'M.V.Palem', 'Konijerla', 'Peddagopathi', 'Kusumanchi', 'Maturipeta', 'Madhira', 'Mudigonda', 'Vallabhi', 'Bodulanbanda', 'Nelakondapalli', 'Lankasagar', 'Penubally', 'Manchukonda', 'Gangaram', 'Sathupally', 'Singareni', 'Tallada', 'Sublaid', 'Thirumalayapalem', 'Vemsoor', 'Wyra', 'Banigandlapadu', 'Asifabad', 'Bejjur', 'Dahegaon', 'Jainoor', 'Ushagaon', 'Esgaon', 'Kaghaznagar', 'Babapur', 'Kouthala', 'Penchikalpet', 'Rebbana', 'Sirpur', 'Kagaznagar', 'Tiryani', 'Bayyaram', 'Gandhampalli', 'Danthalapally', 'Dornakal', 'Gangaram', 'Garla', 'Mulkanoor', 'Gudur', 'Teegalaveni', 'Kesamudram', 'Kothaguda', 'Kuravi', 'Kambalpally', 'Mahabubabad', 'Malliyala', 'Marripeda', 'Uggampalli', 'Nellikudur', 'Thorrur', 'Addakal', 'Balanagar', 'ChinnaChintakunta', 'Gandeed', 'Gangapur', 'Hanwada', 'Janampet', 'Kothlabad', 'Deverkadra', 'Mohammadabad', 'Nawabpet', 'Perur', 'Rajapur', 'Jadcherla/BDPL', 'Mothinagar', 'RamaiahBowli', 'Badepally/Jadcherla', 'CollegeGovtGeneralHospital', 'Damargidda', 'Dhanwada', 'Maddur', 'Maganoor', 'Makthal', 'Marikal', 'Kotakonda', 'Narayanpet', 'Narwa', 'BCColony', 'ShamsheerNagar', 'Dandepally', 'Tallapet', 'Hajipur', 'Jaipur', 'Kundaram', 'jannaram', 'Kasipet', 'Venkatraopet', 'Luxettipet', 'Mancherial', 'RajeevNagar', 'DeepakNagar', 'Mandamarri', 'Naspur', 'Tandur', 'Vemanpally', 'Alladurg', 'Gadipeddapur', 'Chegunta', 'Sardana', 'Kowdipally', 'Kulcharam', 'Rangampet', 'MainroadR&Bguesthouse', 'Medak', 'Narsapur', 'Reddipally', 'Narsingi', 'Papannapet', 'Podichanpally', 'DongalDaramaram', 'Ramayanpet', 'Regode', 'Shankarampet-A', 'Shankarampet(R)', 'Shivampet', 'Tekmal', 'Yeldurthy', 'Toopran', 'Achampet', 'Siddapur', 'Padara', 'Thotapally', 'Vatavarlapally(APPAPOOR)', 'Amrabad', 'Balmoor', 'Bijinepally', 'Charakonda', 'Kalvakurthy', 'Raghupathipet', 'Kodair', 'Kollapur', 'Ambatpally', 'Lingal', 'Nagarkurnool', 'Padra', 'Peddakottapally', 'Pentlavally', 'Tadoor', 'Boppally', 'Peddur', 'Telkapally', 'Timmajipet', 'Uppunuthala', 'Vangoor', 'Veldanda', 'A.D.Pally', 'Haliya', 'Chandampet', 'Chandur', 'Chinthapally', 'Chityala', 'Veliminedu', 'Damarcherla', 'Bodupally', 'Deverkonda', 'Dindi', 'Gurrampode', 'Kanagal', 'Kattangur', 'Kethepally', 'KondaMallePally', 'Pamulapahad', 'Marriguda', 'Alagadapa', 'Miryalguda', 'Prakashnagar', 'Munugode', 'Nakkrekal', 'Ogode', 'Linewada', 'Manymachelka', 'Nalgonda', 'Pangal', 'Ramaulabanda(NalgondaRuralArea)', 'Nampally', 'Narketpally', 'Nidmanoor', 'Gudipally', 'Peddavoora', 'Nagarjunasagar', 'Shaligowraram', 'Thipparthy', 'PeddaDhevulaPally', 'Thripuraram(M)', 'Vemulapally', 'Basar', 'Bhainsa', 'Bhainsa', 'Mahagaon', 'Dasturabad', 'Dilwarpur', 'Kaddam', 'Khanapur', 'Kubeer', 'Kuntala', 'Laxmanchanda', 'Velmalbopparam', 'Lokeshwaram', 'Mamada', 'Mudhole', 'NarsapurG', 'Bangalpet', 'Mujigi', 'Nirmal', 'Nirmal', 'Pembi', 'Sarangapur', 'Soan', 'Tanoor', 'Arsapally', 'Chandrashekarcolony', 'Gouthamnagar', 'CollegeGovtGeneralHospital', 'Vinayaknagar', 'Malapally', 'Seetharamnagar', 'Armoor', 'Govindpet', 'KisanNagar', 'Balkonda', 'Kissannagar', 'Bheemgal', 'Muchkur', 'Bodhan', 'Rakashipet', 'Saloora', 'Pegadapally', 'Dichpally', 'Indalwai', 'Jakranpally', 'Kammarpally', 'Kotagiri', 'Pothangal', 'Kaladi', 'Makloor', 'Mendora', 'SRSPPochampad', 'Morthad', 'Mudakpally', 'Donkeshwar', 'Nandipet', 'Binola', 'Navipet', 'Renjal', 'Rudrur', 'Sirkonda', 'Mosra', 'Varni', 'Velpur', 'Yedpalle', 'Yergatla', 'Anthergoan', 'Maidaram', 'Eligedu', 'Julapalli', 'Kamanpur', 'Gaddalapalli', 'Manthani', 'Mutharam', 'Garrepalli', 'Sultanabad', 'Basanthanagar', 'Putnoor', 'Peddapally', 'Raghavapur', 'Raginedu', 'Begumpet', 'Ramagundam', 'Kolanur', 'Allur', 'Jangaon', 'Laxmipur', 'Ramagundam', 'Ramagundem', 'Kunaram', 'Srirampur', 'Colony', 'Addaguntapally', 'Boinpalli', 'Kodurupaka', 'Vilasagar', 'Chandurthy', 'Ellanthakunta', 'Gambiraopet', 'Lingannapet', 'Konaraopet', 'Pothugal', 'AmbedkarNagar', 'Cheerlavancha', 'Nerella', 'Sircilla', 'Thangalapalli', 'Hanmajipet', 'Vemulawada', 'Vanasthalipuram', 'Hayathnagar', 'Rajendranagar', 'Myladevarpally', 'Shadnagar', 'Narkuda', 'Peddashapur', 'Shamshabad', 'Amangal', 'Mysigandi', 'Aloor', 'Chevella', 'Moinabad', 'Burgula', 'Chinchode', 'Dandumailaram', 'Eliminedu', 'Ibrahimpatnam', 'Kandukur', 'Lernoor', 'Rachaluru', 'Keshampet', 'Kondurg', 'Kothur', 'Irwin', 'Madgul', 'Maheshwaram', 'Dubbacherla', 'Arutla', 'Manchal', 'Nandigam', 'Chandanvally', 'Shabad', 'Shankarpally', 'Tangutoor', 'GattuIppalpally', 'Talakondapally', 'Yacharam', 'SaroorNagar', 'Balapur', 'Abdullapurmet', 'Mansoorabad', 'Shivarampally', 'Mailardevpally', 'Hafeezpet', 'Serlingampally', 'Narsingi', 'Kandukur', 'Moinabad', 'Kondurg', 'Amangal', 'Yacharam', 'Kothur', 'Akkannapet', 'Thotapalli', 'Cheriyal', 'IbrahimNagar', 'Gajwel', 'Thipudampally', 'Atmakur', 'Kamaluddinpur', 'Ghanpur', 'Gopalpet', 'Apparala', 'Madnapur', 'PANGAL', 'Pebbair', 'Peddamandadi', 'Revally', 'Veepangandla', 'Kothakota', 'Gandhinagar', 'Kadukuntla', 'PeerlaGutta', 'Wanaparthy', 'Athmakur', 'Chennaraopet', 'Damera', 'Duggondi', 'Keshavapur', 'Geesygonda', 'Khanapur', 'Madapally', 'Nallabelly', 'Banojipet', 'Narasampet', 'Alankanipet', 'Nekkonda', 'Parkal', 'Raiparthy', 'Parvathagiri', 'Raiparthy(W)', 'Sangam', 'Shayampet', 'Wardhannapet', 'Chintal', 'Deshaipet', 'KeerthiNagar', 'Rangashaipet', 'SRRThota', 'Warangal-', 'Govt.UnaniHospital', 'LashkarSingaram', 'Peddammagadda', 'Waddepally', 'Warangal-', 'Kondaparthy', 'Kadipikonda', 'Bodagutta', 'NewShyampet', 'Somidi', 'Mulkanur', 'Vangara', 'Dharmasagar', 'Gopalpur', 'Elkathurthy', 'Hasanparthy', 'Siddapur', 'Inavole', 'Uppal', 'Kamalapur', 'Velair', 'Pagidipally', 'C.K.MGovtMaternityHospital(KMC)', 'CollegeMGMHospital', 'WestFort', 'Addagudur', 'Alair', 'Sharajpet', 'Athmakur(M)', 'Bhongir', 'Bollepally', 'Hanmanwada', 'Bibinagar', 'Kondamadugu', 'Choutuppal', 'Tangadapally', 'Motakondur', 'Mothkur', 'Pochampally', 'Rajapet', 'Ramannapet', 'Munipampula', 'Thurkapally', 'Valigonda', 'Varkatpally', 'Vemulakonda', 'Velivarthy', 'Yadagirigutta', 'MEDICALCOLLEGE,SECUNDERABAD', 'OSMANIA MEDICAL COLLEGE, HYDERABAD', 'SIR RONALD ROSS OF TROPICAL & COMMUNICABLE DISEASES, HYDERABAD', 'NIZAM’S INSTITUTE OF MEDICAL SCIENCES, HYDERABAD', 'INSTITUTE OF PREVENTIVE MEDICINE, HYDERABAD', 'ESIC MEDICAL COLLEGE, HYDERABAD', 'KAKATIYAMEDICAL COLLEGE, WARANGAL', 'CENTRE FOR CELLULAR & MOLECULAR BIOLOGY, HYDERABAD', 'CENTRE FOR DNA FINGERPRINTING & DIAGNOSTICS, HYDERABAD', 'RAILWAY HOSPITAL, LALLAGUDA, SECUNDERABAD', 'RAJIV GANDHI INSTITUTE OF MEDICAL SCIENCES, ADILABAD', 'GOVERNMENT GENERAL HOSPITAL, NIZAMABAD', 'GOVERNMENT GENERAL HOSPITAL, SURYAPET', 'DISTRICT HOSPITAL, KARIMNAGAR', 'MEDCIS PATHLABS INDIA PVT LTD', 'APOLLO HOSPITALS, JUBILEE HILLS', 'DR. REMEDIES LAB PVT LTD', 'CYTOMOL LABS', 'AIG HOSPITALS', 'APOLLO HEALTH AND LIFESTYLE LTD, SECUNDERABAD', 'BIOGNOSYS TECHNOLOGIES (INDIA) PVT LTD', 'CHALMEDA ANAND RAO INSTITUTE OF MEDICAL SCIENCES, KARIMNAGAR', 'DEPT OF LAB MEDICINE,YASHODA HOSPITAL,SECUNDERABAD', 'DIAGNOSTIC LABORATORY SERVICES, KAMINENI HOSPITAL LTD, MOULALI', 'LEPRA SOCIETY-BLUE PETER PUBLIC HEALTH AND RESEARCH CENTRE', 'LUCID MEDICAL DIAGNOSTICS PVT LTD', 'MAPMYGENOME INDIA LTD.', 'AMERICAN INSTITUTE OF PATHOLOGY AND LAB SCIENCE PVT LTD.', 'MEGSAN DIAGNOSTICS PRIVATE LIMITED, KOMPALLY', 'AVIGNA DIAGNOSTICS', 'LIKHITHA DIAGNOSTICS', 'NEUBERG DIAGNOSTICS', 'R.V.M. INSTITUTE OF MEDICAL SCIENCES AND RESEARCH CENTER', 'VIRINCHI', 'DEPT OF LAB MEDICINE,STAR HOSPITALS']
if __name__=='__main__':
	app.run(debug=True)
